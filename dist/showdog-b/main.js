(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	var module = __webpack_require__(id);
	return module;
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error('Cannot find module "' + req + '".');
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _shows_shows_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shows/shows.component */ "./src/app/shows/shows.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _show_show_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./show/show.component */ "./src/app/show/show.component.ts");
/* harmony import */ var _registration_registration_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./registration/registration.component */ "./src/app/registration/registration.component.ts");
/* harmony import */ var _firms_firms_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./firms/firms.component */ "./src/app/firms/firms.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    { path: '', redirectTo: '/login', pathMatch: 'full' },
    { path: 'show', component: _show_show_component__WEBPACK_IMPORTED_MODULE_4__["ShowComponent"] },
    { path: 'shows', component: _shows_shows_component__WEBPACK_IMPORTED_MODULE_2__["ShowsComponent"] },
    { path: 'firms', component: _firms_firms_component__WEBPACK_IMPORTED_MODULE_6__["FirmsComponent"] },
    { path: 'registration', component: _registration_registration_component__WEBPACK_IMPORTED_MODULE_5__["RegistrationComponent"] },
    { path: 'login', component: _login_login_component__WEBPACK_IMPORTED_MODULE_3__["LoginComponent"] }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".menu{\r\n    width: 30vw;\r\n    position: fixed;\r\n    padding-bottom: 5px;\r\n    padding-right: 5px;\r\n}\r\n\r\n.menu-icon {\r\n    font-size: 40px!important;\r\n}\r\n\r\n.router-outlet{\r\n    padding-top:50px;\r\n    padding-left:10px;\r\n}"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\r\n<div class=\"menu\">\r\n    <button class=\"menu-button\"  mat-icon-button matTooltip=\"Menu\" [matMenuTriggerFor]=\"menu\">\r\n        <mat-icon class=\"menu-icon\">menu</mat-icon>\r\n    </button>\r\n</div>\r\n<mat-menu #menu=\"matMenu\">\r\n  <button mat-menu-item *ngFor=\"let item of menuItems\" routerLink=\"{{item.routerLink}}\">{{item.title}}</button>\r\n  <div *ngIf=\"authService.afAuth.user | async as user; else showRegister\">\r\n        <button mat-menu-item routerLink=\"registration\">Register your bussiness</button>\r\n  </div>\r\n  \r\n  <div *ngIf=\"authService.afAuth.user | async as user; else showLogin\">\r\n      <button mat-menu-item (click)=\"logout()\" routerLink=\"login\">Logout</button>\r\n  </div> \r\n\r\n</mat-menu>\r\n\r\n<div class=\"router-outlet\">\r\n    <router-outlet></router-outlet>\r\n</div>\r\n\r\n<ng-template #showLogin>\r\n    <button  mat-menu-item routerLink=\"login\">Login</button>\r\n</ng-template>\r\n\r\n<ng-template #showRegister>\r\n    <div matTooltip=\"You have to be logged in if want to register you business.\">\r\n        <button mat-menu-item disabled>Register your bussiness</button>\r\n   </div>\r\n</ng-template>\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/auth */ "./src/app/services/auth.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var AppComponent = /** @class */ (function () {
    function AppComponent(authService) {
        this.authService = authService;
        this.title = 'Show Dog';
        this.menuItems = [
            { title: 'Dog Shows', routerLink: 'shows' },
            { title: 'Dog Related Businesses', routerLink: 'firms' },
        ];
    }
    AppComponent.prototype.logout = function () {
        this.authService.signOut();
    };
    AppComponent.prototype.registrationInfo = function () {
        if (this.authService.authenticated) {
            return "You have to be logged in if want to register you business.";
        }
    };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        }),
        __metadata("design:paramtypes", [_services_auth__WEBPACK_IMPORTED_MODULE_1__["AuthService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var angularfire2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angularfire2 */ "./node_modules/angularfire2/index.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _shows_shows_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shows/shows.component */ "./src/app/shows/shows.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _shows_shows_provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./shows/shows.provider */ "./src/app/shows/shows.provider.ts");
/* harmony import */ var angularfire2_auth__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! angularfire2/auth */ "./node_modules/angularfire2/auth/index.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./services/auth */ "./src/app/services/auth.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./login/login.component */ "./src/app/login/login.component.ts");
/* harmony import */ var _angular_material_menu__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/menu */ "./node_modules/@angular/material/esm5/menu.es5.js");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/esm5/list.es5.js");
/* harmony import */ var _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/material/grid-list */ "./node_modules/@angular/material/esm5/grid-list.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/esm5/form-field.es5.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_divider__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/material/divider */ "./node_modules/@angular/material/esm5/divider.es5.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/esm5/button.es5.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/esm5/icon.es5.js");
/* harmony import */ var _angular_material_radio__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/material/radio */ "./node_modules/@angular/material/esm5/radio.es5.js");
/* harmony import */ var _angular_material_expansion__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @angular/material/expansion */ "./node_modules/@angular/material/esm5/expansion.es5.js");
/* harmony import */ var _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @angular/material/button-toggle */ "./node_modules/@angular/material/esm5/button-toggle.es5.js");
/* harmony import */ var _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @angular/material/slide-toggle */ "./node_modules/@angular/material/esm5/slide-toggle.es5.js");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/esm5/toolbar.es5.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/esm5/tooltip.es5.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _angular_material_slider__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @angular/material/slider */ "./node_modules/@angular/material/esm5/slider.es5.js");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/index.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _show_show_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./show/show.component */ "./src/app/show/show.component.ts");
/* harmony import */ var _show_show_provider__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./show/show.provider */ "./src/app/show/show.provider.ts");
/* harmony import */ var _registration_registration_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./registration/registration.component */ "./src/app/registration/registration.component.ts");
/* harmony import */ var _registration_registration_provider__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./registration/registration.provider */ "./src/app/registration/registration.provider.ts");
/* harmony import */ var _firms_firms_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./firms/firms.component */ "./src/app/firms/firms.component.ts");
/* harmony import */ var _firms_firms_provider__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./firms/firms.provider */ "./src/app/firms/firms.provider.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





































var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"],
                _shows_shows_component__WEBPACK_IMPORTED_MODULE_6__["ShowsComponent"],
                _show_show_component__WEBPACK_IMPORTED_MODULE_31__["ShowComponent"],
                _login_login_component__WEBPACK_IMPORTED_MODULE_12__["LoginComponent"],
                _show_show_component__WEBPACK_IMPORTED_MODULE_31__["ShowComponent"],
                _registration_registration_component__WEBPACK_IMPORTED_MODULE_33__["RegistrationComponent"],
                _firms_firms_component__WEBPACK_IMPORTED_MODULE_35__["FirmsComponent"],
            ],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_7__["AppRoutingModule"],
                angularfire2__WEBPACK_IMPORTED_MODULE_4__["AngularFireModule"].initializeApp(_environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].firebaseConfig),
                _agm_core__WEBPACK_IMPORTED_MODULE_29__["AgmCoreModule"].forRoot({
                    apiKey: _environments_environment__WEBPACK_IMPORTED_MODULE_5__["environment"].googleMapConfig.apiKey
                }),
                _angular_forms__WEBPACK_IMPORTED_MODULE_30__["FormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_30__["ReactiveFormsModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_1__["BrowserAnimationsModule"],
                _angular_material_menu__WEBPACK_IMPORTED_MODULE_13__["MatMenuModule"],
                _angular_material_grid_list__WEBPACK_IMPORTED_MODULE_15__["MatGridListModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_16__["MatFormFieldModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_17__["MatInputModule"],
                _angular_material_icon__WEBPACK_IMPORTED_MODULE_20__["MatIconModule"],
                _angular_material_list__WEBPACK_IMPORTED_MODULE_14__["MatListModule"],
                _angular_material_divider__WEBPACK_IMPORTED_MODULE_18__["MatDividerModule"],
                _angular_material_button__WEBPACK_IMPORTED_MODULE_19__["MatButtonModule"],
                _angular_material_expansion__WEBPACK_IMPORTED_MODULE_22__["MatExpansionModule"],
                _angular_material_button_toggle__WEBPACK_IMPORTED_MODULE_23__["MatButtonToggleModule"],
                _angular_material_radio__WEBPACK_IMPORTED_MODULE_21__["MatRadioModule"],
                _angular_material_slide_toggle__WEBPACK_IMPORTED_MODULE_24__["MatSlideToggleModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_17__["MatSelectModule"],
                _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_25__["MatToolbarModule"],
                _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_26__["MatTooltipModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_27__["MatDialogModule"],
                _angular_material_slider__WEBPACK_IMPORTED_MODULE_28__["MatSliderModule"]
            ],
            providers: [
                _shows_shows_provider__WEBPACK_IMPORTED_MODULE_8__["ShowsProvider"],
                _show_show_provider__WEBPACK_IMPORTED_MODULE_32__["ShowProvider"],
                _registration_registration_provider__WEBPACK_IMPORTED_MODULE_34__["RegistrationProvider"],
                _firms_firms_provider__WEBPACK_IMPORTED_MODULE_36__["FirmsProvider"],
                _services_auth__WEBPACK_IMPORTED_MODULE_11__["AuthService"],
                angularfire2_auth__WEBPACK_IMPORTED_MODULE_9__["AngularFireAuth"],
                angularfire2_database__WEBPACK_IMPORTED_MODULE_10__["AngularFireDatabase"],
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/firms/firms.component.css":
/*!*******************************************!*\
  !*** ./src/app/firms/firms.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* .lmapa {\r\n    position: relative;\r\n} */\r\n\r\n#lmapa { height: 80vh; }\r\n\r\n.container {\r\n    display: flex;\r\n}\r\n\r\n.lista {\r\n    height: 50vh!important;\r\n}\r\n\r\n.left {\r\n    float:left;\r\n    width: 50vw;\r\n    margin-right: 2vw;\r\n}\r\n\r\n.right {\r\n    float:left;\r\n    width: 45vw;\r\n}\r\n\r\n.panel-header {\r\n    height: 35px!important;\r\n}\r\n\r\n.flag-icon {\r\n    height: 15px;\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n}"

/***/ }),

/***/ "./src/app/firms/firms.component.html":
/*!********************************************!*\
  !*** ./src/app/firms/firms.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"left\">\r\n        <div id=\"lmapa\" class=\"lmapa\"></div>\r\n      </div>\r\n  <div class=\"right\">\r\n    <div class=\"filter\">\r\n          <mat-select \r\n            placeholder=\"Click for filtering business types\" \r\n            [(value)]=\"selectedFirmTypes\" \r\n            (selectionChange)=\"filtering()\" \r\n            multiple>\r\n            <mat-option *ngFor=\"let firmType of firmTypes\" [value]=\"firmType\">\r\n              {{firmType.name}} ({{firmType.count}})\r\n            </mat-option>\r\n          </mat-select>\r\n    </div>\r\n    <mat-list class=\"lista\">\r\n      <ng-container *ngFor=\"let countryFirm of countryFirms\">\r\n        <h3 mat-subheader>  <img class=\"flag-icon\" src=\"assets/icons/flag/{{countryFirm.country}}.svg\">{{countryFirm.country}}</h3>\r\n        <mat-expansion-panel *ngFor=\"let firm of countryFirm.firms\">\r\n          <mat-expansion-panel-header class=\"panel-header\">\r\n            <mat-panel-title>\r\n                <img class=\"flag-icon\" src=\"assets/icons/firmtype/{{firm.type}}.svg\"> {{firm.name}}\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              {{firm.date}}\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <div>\r\n            <table>\r\n                <tr>{{\"Place: \" + firm.place}}</tr>\r\n                <tr>{{\"Description: \" + firm.description}}</tr>\r\n                <tr>{{\"Type: \" + getTypeName(firm.type)}}</tr>\r\n            </table>\r\n          </div>\r\n        </mat-expansion-panel>\r\n      </ng-container>\r\n    </mat-list>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "./src/app/firms/firms.component.ts":
/*!******************************************!*\
  !*** ./src/app/firms/firms.component.ts ***!
  \******************************************/
/*! exports provided: FirmsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FirmsComponent", function() { return FirmsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var leaflet_markercluster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! leaflet.markercluster */ "./node_modules/leaflet.markercluster/dist/leaflet.markercluster-src.js");
/* harmony import */ var leaflet_markercluster__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(leaflet_markercluster__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/auth */ "./src/app/services/auth.ts");
/* harmony import */ var _firms_provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./firms.provider */ "./src/app/firms/firms.provider.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var iconBaseUrl = 'assets/icons/';
var FirmsComponent = /** @class */ (function () {
    function FirmsComponent(firmsProvider, authService) {
        this.firmsProvider = firmsProvider;
        this.authService = authService;
        this.firmTypes = [];
        this.selectedFirmTypes = [];
        this.centar = leaflet__WEBPACK_IMPORTED_MODULE_1__["latLng"](45.57185, 19.640113);
        this.zoom = 8;
        this.markerClusters = leaflet__WEBPACK_IMPORTED_MODULE_1__["markerClusterGroup"]({ disableClusteringAtZoom: 11 });
        this.baselayer = leaflet__WEBPACK_IMPORTED_MODULE_1__["tileLayer"]('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: "Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors,\n      <a href=\"http://creativeclmmons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery \u00A9 <a href=\"http://mapbox.com\">Mapbox</a>",
            maxZoom: 18,
            id: 'mapbox.streets',
            accessToken: 'pk.eyJ1IjoicnBla28iLCJhIjoiY2prMmh3ZHNmMGxwYTNwbjVrM2YwbHZmNiJ9.xPpVMvB1XQhtetosemv_4w'
        });
    }
    FirmsComponent.prototype.ngOnInit = function () {
        this.createMap();
        this.loadData();
    };
    FirmsComponent.prototype.createMap = function () {
        this.mymap = leaflet__WEBPACK_IMPORTED_MODULE_1__["map"]('lmapa');
        this.mymap.setView(this.centar, this.zoom);
        this.baselayer.addTo(this.mymap);
    };
    FirmsComponent.prototype.loadData = function () {
        var _this = this;
        this.countryFirms = [];
        this.firmsProvider.firmTypes.subscribe(function (firmTypes) {
            for (var i = 0; i < firmTypes.length; i++) {
                _this.firmTypes.push({ id: i, name: firmTypes[i].name, order: firmTypes[i].order, count: 0 });
            }
            _this.firmsProvider.firms.subscribe(function (firms) {
                // console.log('firms: ' + JSON.stringify(firms));
                _this.firms = firms;
                _this.countTypes(_this.firms);
                // this.selectedFirmtypes = this.firmTypes.filter(ft => ft.count > 0);
                _this.filtering();
            }, function (err) { return console.log('firmsprovider err: ' + err); });
        });
    };
    FirmsComponent.prototype.countTypes = function (firms) {
        var _loop_1 = function (i) {
            var ft = this_1.firmTypes.find(function (type) { return type.id === firms[i].type; });
            if (ft) {
                ft.count++;
            }
        };
        var this_1 = this;
        for (var i = 0; i < firms.length; i++) {
            _loop_1(i);
        }
    };
    FirmsComponent.prototype.getTypeName = function (id) {
        var type = this.firmTypes.find(function (t) { return t.id === id; });
        if (type) {
            return type.name;
        }
        else {
            return '';
        }
    };
    FirmsComponent.prototype.filtering = function () {
        var filter = [];
        this.selectedFirmTypes.forEach(function (ft) { return filter.push(ft.id); });
        this.processFirms(this.firms.filter(function (firm) { return filter.includes(firm.type); }));
    };
    FirmsComponent.prototype.processFirms = function (firms) {
        this.countryFirms = [];
        this.markerClusters.clearLayers();
        for (var i = 0; i < firms.length; i++) {
            this.groupBycountry(firms[i]);
            if ((typeof firms[i].lat === 'number') && (typeof firms[i].lon === 'number')) {
                this.addMarker(firms[i]);
            }
            this.mymap.addLayer(this.markerClusters);
        }
        // console.log((new Date()).toISOString() + ' processfirms ...');
        if (this.selectedFirmTypes.length > 0) {
            this.mymap.fitBounds(this.markerClusters.getBounds());
        }
    };
    FirmsComponent.prototype.addMarker = function (firm) {
        var icon = leaflet__WEBPACK_IMPORTED_MODULE_1__["icon"]({ iconUrl: iconBaseUrl + 'firmtype/' + firm.type + '.svg' });
        var marker = leaflet__WEBPACK_IMPORTED_MODULE_1__["marker"](new leaflet__WEBPACK_IMPORTED_MODULE_1__["LatLng"](firm.lat, firm.lon), { title: firm.name, icon: icon });
        marker.bindPopup('<div>' + firm.name + '</div>');
        this.markerClusters.addLayer(marker);
    };
    FirmsComponent.prototype.groupBycountry = function (firm) {
        var index = this.countryFirms.findIndex(function (ss) { return ss.country === firm.countrycode; });
        // console.log("countryfirm index: " + index);
        if (index > -1) {
            this.countryFirms[index].firms.push(firm);
        }
        else {
            this.countryFirms.push({ country: firm.countrycode, firms: [firm] });
        }
    };
    FirmsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-firms',
            template: __webpack_require__(/*! ./firms.component.html */ "./src/app/firms/firms.component.html"),
            styles: [__webpack_require__(/*! ./firms.component.css */ "./src/app/firms/firms.component.css")]
        }),
        __metadata("design:paramtypes", [_firms_provider__WEBPACK_IMPORTED_MODULE_4__["FirmsProvider"],
            _services_auth__WEBPACK_IMPORTED_MODULE_3__["AuthService"]])
    ], FirmsComponent);
    return FirmsComponent;
}());



/***/ }),

/***/ "./src/app/firms/firms.provider.ts":
/*!*****************************************!*\
  !*** ./src/app/firms/firms.provider.ts ***!
  \*****************************************/
/*! exports provided: FirmsProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FirmsProvider", function() { return FirmsProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FirmsProvider = /** @class */ (function () {
    function FirmsProvider(db) {
        this.db = db;
        this.firms = db.list('/firms').valueChanges();
        this.firmTypes = db.list('/firmtype').valueChanges();
    }
    FirmsProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [angularfire2_database__WEBPACK_IMPORTED_MODULE_1__["AngularFireDatabase"]])
    ], FirmsProvider);
    return FirmsProvider;
}());



/***/ }),

/***/ "./src/app/login/login.component.css":
/*!*******************************************!*\
  !*** ./src/app/login/login.component.css ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".front-image{\r\n    width: 250px;\r\n}\r\n\r\n.login-button{\r\n    width: 200px;\r\n}\r\n\r\n.login-lista{\r\n    text-align: center;\r\n}\r\n"

/***/ }),

/***/ "./src/app/login/login.component.html":
/*!********************************************!*\
  !*** ./src/app/login/login.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-grid-list cols=\"2\">\r\n        <mat-grid-tile>\r\n                <div style=\"text-align:center\">\r\n                    <img class=\"front-image\" alt=\"Dog exhibitors heper app!\" src=\"/assets/images/welcome.jpg\">\r\n                </div>\r\n        </mat-grid-tile>\r\n        <mat-grid-tile>\r\n                <div *ngIf=\"authService.afAuth.user | async as user; else showLogin\">\r\n                        <h2>Hello {{ user.isAnonymous?\" Dear Guest\":user.displayName }}!</h2>\r\n                        <button mat-raised-button color=\"primary\" (click)=\"logout()\">{{ user.isAnonymous?\"Login\":\"Logout\"}}</button>\r\n                    </div>\r\n                    <ng-template #showLogin>\r\n                        <mat-list [ngClass]=\"login-lista\">\r\n                            <mat-list-item>\r\n                                <button class=\"login-button\" mat-raised-button color=\"primary\" (click)=\"loginWithGoogle()\">Login with Google</button>\r\n                            </mat-list-item>\r\n                            <mat-list-item>\r\n                                <button class=\"login-button\" mat-raised-button color=\"primary\" (click)=\"loginWithFB()\">Login with Facebook</button>\r\n                            </mat-list-item>\r\n                            <mat-list-item>\r\n                                <button class=\"login-button\" mat-raised-button color=\"secondary\" (click)=\"loginAsGuest()\">Login as Guest</button>\r\n                            </mat-list-item>\r\n                        </mat-list>\r\n                    </ng-template>\r\n        </mat-grid-tile>\r\n</mat-grid-list>\r\n\r\n\r\n"

/***/ }),

/***/ "./src/app/login/login.component.ts":
/*!******************************************!*\
  !*** ./src/app/login/login.component.ts ***!
  \******************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/auth */ "./src/app/services/auth.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var LoginComponent = /** @class */ (function () {
    function LoginComponent(authService, router, ngZone) {
        this.authService = authService;
        this.router = router;
        this.ngZone = ngZone;
    }
    LoginComponent.prototype.loginWithGoogle = function () {
        var _this = this;
        this.authService.signInWithGoogle().then(function (u) {
            _this.ngZone.run(function () { return _this.router.navigate(['/shows']); });
            // console.log('u:  ' + JSON.stringify(u));
        });
    };
    LoginComponent.prototype.loginWithFB = function () {
        var _this = this;
        this.authService.signInWithFB().then(function (u) { return _this.router.navigate(['/shows']); });
    };
    LoginComponent.prototype.loginAsGuest = function () {
        var _this = this;
        this.authService.signInAnonymously().then(function (u) {
            _this.router.navigate(['/shows']);
            // console.log("anonimus: " + JSON.stringify(u));
        });
    };
    LoginComponent.prototype.logout = function () {
        this.authService.signOut();
    };
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.css */ "./src/app/login/login.component.css")]
        }),
        __metadata("design:paramtypes", [_services_auth__WEBPACK_IMPORTED_MODULE_2__["AuthService"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/registration/registration.component.css":
/*!*********************************************************!*\
  !*** ./src/app/registration/registration.component.css ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container {\r\n    display: flex;\r\n}\r\n\r\n.left {\r\n    float:left;\r\n    width: 40vw;\r\n    margin-right: 2vw;\r\n}\r\n\r\n.right {\r\n    float:left;\r\n    width: 55vw;\r\n}\r\n\r\n.form-field {\r\n   width: 35vw;\r\n}\r\n\r\n.cancel-link {\r\n    padding-left: 1vw;\r\n}"

/***/ }),

/***/ "./src/app/registration/registration.component.html":
/*!**********************************************************!*\
  !*** ./src/app/registration/registration.component.html ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n    <div class=\"left\">\r\n        <form [formGroup]=\"firmForm\" (ngSubmit)=\"onSubmit()\">\r\n            <div>\r\n                <mat-form-field class=\"form-field\">\r\n                    <mat-select placeholder=\"Firm Type\" formControlName=\"type\">\r\n                        <mat-option *ngFor=\"let firmtype of firmtypes\" [value]=\"firmtype.id\">\r\n                            {{firmtype.name}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-form-field class=\"form-field\">\r\n                    <input matInput formControlName=\"name\" placeholder=\"Name\" [errorStateMatcher]=\"matcher\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-form-field class=\"form-field\">\r\n                    <input matInput formControlName=\"description\" placeholder=\"Description\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-form-field class=\"form-field\">\r\n                    <input matInput formControlName=\"place\" placeholder=\"Place\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-form-field class=\"form-field\">\r\n                    <input matInput formControlName=\"address\" placeholder=\"Address\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-form-field class=\"form-field\">\r\n                    <mat-select placeholder=\"Country\" formControlName=\"countrycode\" [errorStateMatcher]=\"matcher\">\r\n                        <mat-option *ngFor=\"let country of countries\" [value]=\"country.code\">\r\n                            {{country.name}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-form-field class=\"form-field\">\r\n                    <input matInput formControlName=\"email\" placeholder=\"email\" [errorStateMatcher]=\"matcher\">\r\n                    <mat-error *ngIf=\"email && email.hasError('email')\">\r\n                        Please enter a valid email address\r\n                    </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-form-field class=\"form-field\">\r\n                    <input matInput formControlName=\"phone\" placeholder=\"phone\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <table>\r\n                    <tr>\r\n                        <td>\r\n                            <div class=\"form-container\">\r\n                                <mat-form-field class=\"form-field\">\r\n                                    <input matInput formControlName=\"lat\" placeholder=\"Latitude\">\r\n                                </mat-form-field>\r\n                            </div>\r\n                            <div class=\"form-container\">\r\n                                <mat-form-field class=\"form-field\">\r\n                                    <input matInput formControlName=\"lon\" placeholder=\"Longitude\">\r\n                                </mat-form-field>\r\n                            </div>\r\n                        </td>\r\n                        <td>\r\n                            <a href=\"https://www.latlong.net/\" target=\"_blank\" title=\"How to get coordinates?\">\r\n                                <mat-icon>contact_support</mat-icon>\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\" mat-raised-button color=\"primary\">{{submitButtonText}}</button>\r\n                <button type=\"button\" mat-button (click)=\"populateForm()\">Cancel</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class=\"right\">\r\n        <mat-toolbar>My businesses:</mat-toolbar>\r\n        <mat-expansion-panel *ngFor=\"let firm of firms\">\r\n            <mat-expansion-panel-header>\r\n                <mat-panel-title>\r\n                    {{firm.name}}\r\n                </mat-panel-title>\r\n                <mat-panel-description>\r\n                    {{getFirmtype(firm.type)}}\r\n                </mat-panel-description>\r\n            </mat-expansion-panel-header>\r\n            <div>\r\n                <table>\r\n                    <tr>{{\"Place: \" + firm.place}}</tr>\r\n                    <tr>{{\"Description: \" + firm.description}}</tr>\r\n                    <tr>{{\"Type: \" + getFirmtype(firm.type)}}</tr>\r\n                    <tr>{{\"Address: \" + firm.address}}</tr>\r\n                    <tr>{{\"Email: \" + firm.email}}</tr>\r\n                    <tr>{{\"Phone: \" + firm.phone}}</tr>\r\n                </table>\r\n            </div>\r\n            <div>\r\n                <mat-action-row>\r\n                    <button mat-button (click)=\"populateForm(firm)\">\r\n                        <mat-icon>edit</mat-icon>\r\n                    </button>\r\n                </mat-action-row>\r\n            </div>\r\n        </mat-expansion-panel>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "./src/app/registration/registration.component.ts":
/*!********************************************************!*\
  !*** ./src/app/registration/registration.component.ts ***!
  \********************************************************/
/*! exports provided: RegistrationComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RegistrationComponent", function() { return RegistrationComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _registration_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./registration.provider */ "./src/app/registration/registration.provider.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/auth */ "./src/app/services/auth.ts");
/* harmony import */ var _validators_matcher__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../validators/matcher */ "./src/app/validators/matcher.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var RegistrationComponent = /** @class */ (function () {
    function RegistrationComponent(route, registrationProvider, authService, router, fb) {
        this.route = route;
        this.registrationProvider = registrationProvider;
        this.authService = authService;
        this.router = router;
        this.fb = fb;
        this.firms = [];
        this.states = [];
        this.firmtypes = [];
        this.admin = 0;
        this.submitButtonText = 'Add';
        this.matcher = new _validators_matcher__WEBPACK_IMPORTED_MODULE_5__["MyErrorStateMatcher"]();
        this.firmForm = this.fb.group({
            name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            description: '',
            place: '',
            address: '',
            countrycode: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            type: [null, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required],
            lat: null,
            lon: null,
            email: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].email],
            phone: '',
        });
        this.firm = {
            'key': '',
            'userId': this.authService.getUid(),
            'name': '',
            'description': '',
            'place': '',
            'address': '',
            'countrycode': '',
            'type': null,
            'lat': null,
            'lon': null,
            'email': '',
            'phone': '',
        };
    }
    RegistrationComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.registrationProvider.firmtypes.subscribe(function (firmtypes) {
            for (var i = 0; i < firmtypes.length; i++) {
                _this.firmtypes.push({ id: i, name: firmtypes[i].name, order: firmtypes[i].order });
            }
            // console.log(JSON.stringify(this.firmtypes));
        });
        this.authService.afAuth.authState.subscribe(function (user) {
            var userId = '';
            if (user) {
                userId = user.uid;
            }
            _this.registrationProvider.getFirms(userId).subscribe(function (firms) { return _this.firms = firms; });
        });
        this.registrationProvider.states.subscribe(function (states) { return _this.states = states; });
    };
    RegistrationComponent.prototype.populateForm = function (firm) {
        if (firm) {
            this.firm = firm;
            this.submitButtonText = 'Save edits';
        }
        else {
            this.firm = {
                'key': '',
                'userId': this.authService.getUid(),
                'name': '',
                'description': '',
                'place': '',
                'address': '',
                'countrycode': '',
                'type': null,
                'lat': null,
                'lon': null,
                'email': '',
                'phone': '',
            };
            this.submitButtonText = 'Add';
        }
        this.firmForm.setValue({
            name: this.firm.name || '',
            description: this.firm.description || '',
            place: this.firm.place || '',
            address: this.firm.address || '',
            type: (this.firm.type == null) ? '' : +this.firm.type,
            countrycode: this.firm.countrycode || '',
            lat: +this.firm.lat || null,
            lon: +this.firm.lon || null,
            email: this.firm.email || '',
            phone: this.firm.phone || '',
        });
    };
    RegistrationComponent.prototype.onSubmit = function () {
        var _this = this;
        this.firm.name = this.firmForm.value.name;
        this.firm.description = this.firmForm.value.description;
        if (!this.firm.userId) {
            this.firm.userId = this.authService.getUid();
        }
        this.firm.place = this.firmForm.value.place;
        this.firm.address = this.firmForm.value.address;
        this.firm.type = this.firmForm.value.type;
        this.firm.countrycode = this.firmForm.value.countrycode;
        this.firm.lat = +this.firmForm.value.lat;
        this.firm.lon = +this.firmForm.value.lon;
        this.firm.email = this.firmForm.value.email;
        this.firm.phone = this.firmForm.value.phone;
        this.registrationProvider.upsertFirm(this.firm)
            .then(function () { return _this.populateForm(null); })
            .catch(function (err) { return console.log('err: ' + err); });
    };
    RegistrationComponent.prototype.getFirmtype = function (id) {
        var firmtype = this.firmtypes.find(function (t) { return t.id === id; });
        if (firmtype) {
            return firmtype.name;
        }
        else {
            return null;
        }
    };
    RegistrationComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-registration',
            template: __webpack_require__(/*! ./registration.component.html */ "./src/app/registration/registration.component.html"),
            styles: [__webpack_require__(/*! ./registration.component.css */ "./src/app/registration/registration.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_3__["ActivatedRoute"],
            _registration_provider__WEBPACK_IMPORTED_MODULE_1__["RegistrationProvider"],
            _services_auth__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"]])
    ], RegistrationComponent);
    return RegistrationComponent;
}());



/***/ }),

/***/ "./src/app/registration/registration.provider.ts":
/*!*******************************************************!*\
  !*** ./src/app/registration/registration.provider.ts ***!
  \*******************************************************/
/*! exports provided: RegistrationProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RegistrationProvider", function() { return RegistrationProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/auth */ "./src/app/services/auth.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var RegistrationProvider = /** @class */ (function () {
    function RegistrationProvider(db, authService) {
        var _this = this;
        this.db = db;
        this.authService = authService;
        this.firms = db.list('/firms', function (ref) { return ref.orderByChild('userId').equalTo('' + _this.authService.getUid()); }).valueChanges();
        this.firmtypes = db.list('/firmtype').valueChanges();
        this.states = db.list('/countries').valueChanges();
        this.firmRef = db.database.ref('/firms/');
    }
    RegistrationProvider.prototype.getFirms = function (userId) {
        return this.db.list('/firms', function (ref) { return ref.orderByChild('userId').equalTo(userId); }).valueChanges();
    };
    RegistrationProvider.prototype.upsertFirm = function (firm) {
        if (!firm.key || firm.key == '' || firm.key == 'undefined') {
            firm.key = this.firmRef.push().key;
        }
        var firmObj = this.db.object('/firms/' + firm.key);
        return firmObj.update(firm);
    };
    RegistrationProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [angularfire2_database__WEBPACK_IMPORTED_MODULE_1__["AngularFireDatabase"], _services_auth__WEBPACK_IMPORTED_MODULE_2__["AuthService"]])
    ], RegistrationProvider);
    return RegistrationProvider;
}());



/***/ }),

/***/ "./src/app/services/auth.ts":
/*!**********************************!*\
  !*** ./src/app/services/auth.ts ***!
  \**********************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angularfire2_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angularfire2/auth */ "./node_modules/angularfire2/auth/index.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
/* harmony import */ var firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase */ "./node_modules/firebase/dist/index.cjs.js");
/* harmony import */ var firebase__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(firebase__WEBPACK_IMPORTED_MODULE_3__);
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var AuthService = /** @class */ (function () {
    function AuthService(afAuth, db) {
        var _this = this;
        this.afAuth = afAuth;
        this.db = db;
        afAuth.authState.subscribe(function (user) {
            _this.user = user;
        });
    }
    AuthService.prototype.getUid = function () {
        return this.user ? this.user.uid : '';
    };
    AuthService.prototype.getUserdata = function () {
        return this.db.database.ref('/userdata/' + (this.getUid() || 0));
    };
    AuthService.prototype.getUserCountries = function () {
        return this.db.database.ref('/userdata/' + (this.getUid() || 0) + '/usercountries/');
    };
    AuthService.prototype.updateUserCountries = function (usercountries) {
        if (this.user) {
            var usercountriesRef = this.db.object('/userdata/' + this.getUid() + '/usercountries');
            usercountriesRef.set(usercountries);
        }
    };
    AuthService.prototype.signInWithEmail = function (credentials) {
        console.log('Sign in with email');
        return this.afAuth.auth.signInWithEmailAndPassword(credentials.email, credentials.password);
    };
    AuthService.prototype.signUp = function (credentials) {
        return this.afAuth.auth.createUserWithEmailAndPassword(credentials.email, credentials.password);
    };
    Object.defineProperty(AuthService.prototype, "authenticated", {
        get: function () {
            return this.user !== null;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(AuthService.prototype, "anonymous", {
        get: function () {
            if (this.user) {
                return this.user.isAnonymous;
            }
            else {
                return false;
            }
        },
        enumerable: true,
        configurable: true
    });
    AuthService.prototype.getEmail = function () {
        return this.user && this.user.email;
    };
    AuthService.prototype.signOut = function () {
        return this.afAuth.auth.signOut();
    };
    AuthService.prototype.signInWithGoogle = function () {
        console.log('Sign in with google');
        return this.afAuth.auth.signInWithPopup(new firebase__WEBPACK_IMPORTED_MODULE_3__["auth"].GoogleAuthProvider());
    };
    AuthService.prototype.signInWithFB = function () {
        console.log('Sign in with facebook');
        return this.afAuth.auth.signInWithPopup(new firebase__WEBPACK_IMPORTED_MODULE_3__["auth"].FacebookAuthProvider());
    };
    AuthService.prototype.signInAnonymously = function () {
        return this.afAuth.auth.signInAnonymously();
    };
    AuthService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [angularfire2_auth__WEBPACK_IMPORTED_MODULE_1__["AngularFireAuth"], angularfire2_database__WEBPACK_IMPORTED_MODULE_2__["AngularFireDatabase"]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/show/show.component.css":
/*!*****************************************!*\
  !*** ./src/app/show/show.component.css ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".main {\r\n  padding-top: 10px;\r\n}\r\n\r\n.form-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n.form-container > * {\r\n    width: 100%;\r\n  }\r\n\r\n.left {\r\n    float: left;\r\n    width: 60vw;\r\n    margin-right: 2vw;\r\n}\r\n\r\n.right {\r\n\r\n}"

/***/ }),

/***/ "./src/app/show/show.component.html":
/*!******************************************!*\
  !*** ./src/app/show/show.component.html ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"main\">\r\n    <form [formGroup]=\"showForm\" (ngSubmit)=\"onSubmit()\">\r\n        <div class=\"left\">\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"name\" placeholder=\"Name\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-error *ngIf=\"name.invalid\">Invalid name: {{name.hasError('maxLength')?' max length error!':'\r\n                    required!'}}</mat-error>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"organizer\" placeholder=\"organizer\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"place\" placeholder=\"Place\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"manifestation\" placeholder=\"Manifestation (more than 1)\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <mat-select placeholder=\"Show Level\" formControlName=\"level\">\r\n                        <mat-option *ngFor=\"let showLevel of showLevels\" [value]=\"showLevel.id\">\r\n                            {{showLevel.name}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <mat-select placeholder=\"Show Type\" formControlName=\"type\">\r\n                        <mat-option *ngFor=\"let type of types\" [value]=\"type\">\r\n                            {{type}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <mat-select placeholder=\"Country Code\" formControlName=\"countrycode\">\r\n                        <mat-option *ngFor=\"let country of countries\" [value]=\"country.code\">\r\n                            {{country.code}}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"link\" placeholder=\"entry info link\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-error *ngIf=\"showForm.get('link').errors\">Invalid link!</mat-error>\r\n            </div>\r\n        </div>\r\n        <div class=\"right\">\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"date\" placeholder=\"Opening Date(YYYYMMDD)\" [errorStateMatcher]=\"matcher\">\r\n                    <mat-error *ngIf=\"date && date.hasError('invalid format')\">\r\n                            Please enter a valid date format: YYYYMMDD, like 20201231\r\n                    </mat-error>\r\n                    <mat-error *ngIf=\"date && date.hasError('invalid year')\">\r\n                        Please enter a valid year: between 2018-2040\r\n                    </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"regclosed\" placeholder=\"Registration closed (YYYYMMDD)\" [errorStateMatcher]=\"matcher\">\r\n                    <mat-error *ngIf=\"date && date.hasError('invalid format')\">\r\n                        Please enter a valid date format: YYYYMMDD, like 20201231\r\n                    </mat-error>\r\n                    <mat-error *ngIf=\"date && date.hasError('invalid year')\">\r\n                        Please enter a valid year: between 2018-2040\r\n                     </mat-error>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                    <mat-form-field>\r\n                        <input matInput formControlName=\"latlon\" placeholder=\"Latitude,Longitude\">\r\n                    </mat-form-field>\r\n                </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"lat\" placeholder=\"Latitude\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-error *ngIf=\"showForm.get('lat').errors\">Invalid lat format!</mat-error>\r\n            </div>\r\n            <div class=\"form-container\">\r\n                <mat-form-field>\r\n                    <input matInput formControlName=\"lon\" placeholder=\"Longitude\">\r\n                </mat-form-field>\r\n            </div>\r\n            <div>\r\n                <mat-error *ngIf=\"showForm.get('lon').errors\">Invalid lon format!</mat-error>\r\n            </div>\r\n            <button type=\"submit\" mat-raised-button [disabled]=\"showForm.invalid\" color=\"primary\">Save</button>\r\n            <button type=\"button\" mat-button (click)=\"back()\">Cancel</button>\r\n        </div>\r\n    </form>\r\n \r\n</div>"

/***/ }),

/***/ "./src/app/show/show.component.ts":
/*!****************************************!*\
  !*** ./src/app/show/show.component.ts ***!
  \****************************************/
/*! exports provided: ShowComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowComponent", function() { return ShowComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _show_provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./show.provider */ "./src/app/show/show.provider.ts");
/* harmony import */ var _validators_lat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../validators/lat */ "./src/app/validators/lat.ts");
/* harmony import */ var _validators_lon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../validators/lon */ "./src/app/validators/lon.ts");
/* harmony import */ var _validators_date__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../validators/date */ "./src/app/validators/date.ts");
/* harmony import */ var _validators_url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../validators/url */ "./src/app/validators/url.ts");
/* harmony import */ var _validators_matcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../validators/matcher */ "./src/app/validators/matcher.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ShowComponent = /** @class */ (function () {
    function ShowComponent(route, router, fb, showProvider) {
        this.route = route;
        this.router = router;
        this.fb = fb;
        this.showProvider = showProvider;
        this.showLevels = [];
        this.types = ['General', 'Group', 'Single breed'];
        this.matcher = new _validators_matcher__WEBPACK_IMPORTED_MODULE_8__["MyErrorStateMatcher"]();
        this.showForm = this.fb.group({
            name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].compose([_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].maxLength(35)])],
            organizer: '',
            place: '',
            manifestation: '',
            level: null,
            type: 'General',
            countrycode: '',
            link: ['', [_validators_url__WEBPACK_IMPORTED_MODULE_7__["ValidateUrl"]]],
            date: [null, _validators_date__WEBPACK_IMPORTED_MODULE_6__["DateValidator"].isValid],
            regclosed: [null, _validators_date__WEBPACK_IMPORTED_MODULE_6__["DateValidator"].isValid],
            latlon: null,
            lat: [0, _validators_lat__WEBPACK_IMPORTED_MODULE_4__["LatValidator"].isValid],
            lon: [0, _validators_lon__WEBPACK_IMPORTED_MODULE_5__["LonValidator"].isValid]
        });
    }
    ShowComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.route.queryParams.subscribe(function (params) {
            if (params.show) {
                _this.show = JSON.parse(params.show);
                // console.log(JSON.stringify(params.show));
            }
            else {
                _this.show = {
                    'key': '',
                    'name': '',
                    'organizer': '',
                    'place': '',
                    'manifestation': '',
                    'level': 1,
                    'type': 'General',
                    'countrycode': '',
                    'link': '',
                    'date': null,
                    'regclosed': null,
                    'lat': null,
                    'lon': null
                };
                _this.show.date = +((new Date()).toISOString().slice(0, 10).replace(/-/g, ''));
            }
            _this.showForm.setValue({
                name: _this.show.name || '',
                organizer: _this.show.organizer || '',
                place: _this.show.place || '',
                manifestation: _this.show.manifestation || '',
                level: _this.show.level || 1,
                type: _this.show.type || 'General',
                countrycode: _this.show.countrycode || '',
                link: _this.show.link || '',
                date: _this.show.date || '',
                regclosed: _this.show.regclosed || '',
                latlon: null,
                lat: _this.show.lat || 0,
                lon: _this.show.lon || 0,
            });
        });
        this.showProvider.showLevels.subscribe(function (showLevels) {
            for (var i = 0; i < showLevels.length; i++) {
                _this.showLevels.push({ id: i, name: showLevels[i].name, description: showLevels[i].description, order: showLevels[i].order });
            }
        });
        this.showProvider.countries.subscribe(function (countries) { return _this.countries = countries; });
        this.showForm.controls['latlon'].valueChanges.subscribe(function (val) { return _this.populateLatLon("" + val); });
    };
    ShowComponent.prototype.onSubmit = function () {
        var _this = this;
        this.show.name = this.showForm.value.name;
        this.show.organizer = this.showForm.value.organizer;
        this.show.place = this.showForm.value.place;
        this.show.manifestation = this.showForm.value.manifestation;
        this.show.level = this.showForm.value.level;
        this.show.type = this.showForm.value.type;
        this.show.countrycode = this.showForm.value.countrycode;
        this.show.link = this.showForm.value.link;
        this.show.date = +('' + this.showForm.value.date).slice(0, 10);
        this.show.regclosed = +('' + this.showForm.value.regclosed).slice(0, 10);
        this.show.lat = +this.showForm.value.lat;
        this.show.lon = +this.showForm.value.lon;
        this.showProvider.upsertShow(this.show)
            .then(function () { return _this.router.navigate(['shows']); })
            .catch(function (err) { return console.log('err: ' + err); });
    };
    ShowComponent.prototype.populateLatLon = function (latlon) {
        var pattern = new RegExp("[0-9]+(,[0-9]+)*");
        if (pattern.test(latlon)) {
            var _a = latlon.split(','), lat = _a[0], lon = _a[1];
            if (this.showForm.controls['lat'].pristine) {
                this.showForm.controls['lat'].setValue(lat);
            }
            if (this.showForm.controls['lon'].pristine) {
                this.showForm.controls['lon'].setValue(lon);
            }
        }
    };
    ShowComponent.prototype.back = function () {
        this.router.navigate(['/shows']);
    };
    Object.defineProperty(ShowComponent.prototype, "name", {
        get: function () { return this.showForm.get('name'); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShowComponent.prototype, "link", {
        get: function () { return this.showForm.get('link'); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShowComponent.prototype, "date", {
        get: function () { return this.showForm.get('date'); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShowComponent.prototype, "regclosed", {
        get: function () { return this.showForm.get('regclosed'); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShowComponent.prototype, "lat", {
        get: function () { return this.showForm.get('lat'); },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ShowComponent.prototype, "lon", {
        get: function () { return this.showForm.get('lon'); },
        enumerable: true,
        configurable: true
    });
    ShowComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-show',
            template: __webpack_require__(/*! ./show.component.html */ "./src/app/show/show.component.html"),
            styles: [__webpack_require__(/*! ./show.component.css */ "./src/app/show/show.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormBuilder"], _show_provider__WEBPACK_IMPORTED_MODULE_3__["ShowProvider"]])
    ], ShowComponent);
    return ShowComponent;
}());



/***/ }),

/***/ "./src/app/show/show.provider.ts":
/*!***************************************!*\
  !*** ./src/app/show/show.provider.ts ***!
  \***************************************/
/*! exports provided: ShowProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowProvider", function() { return ShowProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ShowProvider = /** @class */ (function () {
    function ShowProvider(db) {
        this.db = db;
        this.showRef = db.database.ref('/shows/');
        this.showLevels = db.list('/showlevel').valueChanges();
        this.countries = db.list('/countries', function (ref) { return ref.orderByChild('name'); }).valueChanges();
    }
    ShowProvider.prototype.upsertShow = function (show) {
        if (!show.key || show.key === '' || show.key === 'undefined') {
            show.key = this.showRef.push().key;
        }
        var showObj = this.db.object('/shows/' + show.key);
        return showObj.update(show);
    };
    ShowProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [angularfire2_database__WEBPACK_IMPORTED_MODULE_1__["AngularFireDatabase"]])
    ], ShowProvider);
    return ShowProvider;
}());



/***/ }),

/***/ "./src/app/shows/shows.component.html":
/*!********************************************!*\
  !*** ./src/app/shows/shows.component.html ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n  <div class=\"left\">\r\n    <div class=\"filter\">\r\n      <span class=\"mat-h3\">Filter shows:</span>\r\n      <mat-select class=\"filter-type\" placeholder=\"Click for filtering types\" [(value)]=\"selectedTypes\"\r\n        (selectionChange)=\"runFilter()\" multiple>\r\n        <mat-select-trigger>\r\n          <img class=\"checkbox-icon\" src=\"assets/icons/checkbox.svg\"> {{getFilterTypeHeader()}}\r\n        </mat-select-trigger>\r\n        <mat-option *ngFor=\"let type of allTypes\" [value]=\"type.name\">\r\n          <span>{{type.name}} ({{type.count}}/{{type.all}})</span>\r\n        </mat-option>\r\n      </mat-select>\r\n\r\n      <mat-select class=\"filter-level\" placeholder=\"Click for filtering level\" [(value)]=\"selectedLevels\"\r\n        (selectionChange)=\"runFilter()\" multiple>\r\n        <mat-select-trigger>\r\n          <img class=\"checkbox-icon\" src=\"assets/icons/checkbox.svg\"> {{getFilterLevelHeader()}}\r\n        </mat-select-trigger>\r\n        <mat-option *ngFor=\"let level of allLevels\" [value]=\"level\">\r\n          <img src=\"assets/icons/show/{{level.id}}.svg\">\r\n          <span>{{level.description}} ({{level.count}}/{{level.all}})</span>\r\n        </mat-option>\r\n      </mat-select>\r\n\r\n      <mat-select class=\"filter-country\" placeholder=\"Click for filtering countries\" [(value)]=\"countries\"\r\n        (selectionChange)=\"runFilter();updateCountries()\" multiple>\r\n        <div>\r\n          <button class=\"check-uncheck-button\" mat-raised-button (click)=\"checkAllCountries(); runFilter();updateCountries()\">\r\n            Select All\r\n          </button>\r\n          <button class=\"check-uncheck-button\" mat-raised-button (click)=\"uncheckAllCountries(); runFilter();updateCountries()\">\r\n            Deselect All\r\n          </button>\r\n        </div>\r\n        <mat-select-trigger>\r\n          <img class=\"checkbox-icon\" src=\"assets/icons/checkbox.svg\"> {{getFilterCountryHeader()}}\r\n        </mat-select-trigger>\r\n        <mat-option *ngFor=\"let country of allCountries\" [value]=\"country.code\">\r\n          <span>{{country.name}} ({{country.count}}/{{country.all}})</span>\r\n        </mat-option>\r\n      </mat-select>\r\n    </div>\r\n    <div id=\"lmapa\" class=\"lmapa\"></div>\r\n  </div>\r\n  <div class=\"right\">\r\n    <div class=\"admin\" *ngIf=\"admin>2\">\r\n      <button mat-raised-button (click)=\"loadAll()\">{{txtLoad()}}</button>\r\n      <button mat-button><a routerLink=\"/show\">Add Show</a></button>\r\n    </div>\r\n    <div class=\"period\">\r\n      <span class=\"mat-h3\">Months to load:</span>\r\n      <mat-slider class=\"period-slider\" [max]=\"6\" [min]=\"1\" [step]=\"1\" [thumbLabel]=\"true\" [tickInterval]=\"1\" (change)=\"loadPeriod()\"\r\n        [(ngModel)]=\"loadingMonths\">\r\n      </mat-slider>\r\n    </div>\r\n    <mat-list class=\"main-list\">\r\n      <ng-container *ngFor=\"let monthshow of monthshows\">\r\n        <h3 mat-subheader class=\"mnth-subheader\">{{intToDateToString(+(monthshow.month + \"01\"), \"MMMM YYYY\")}}</h3>\r\n        <div class=\"mnf\" *ngFor=\"let manifestation of monthshow.manifestations\">\r\n          <div *ngIf=\"manifestation.name\">\r\n            <h3 mat-subheader class=\"mnf-subheader\">\r\n              <img class=\"show-icon\" src=\"assets/icons/manifestation.svg\">\r\n              {{manifestation.name}}\r\n              <button *ngIf=\"admin>2\" type=\"button\" mat-button (click)=\"addToManifestation(manifestation)\">\r\n                <mat-icon>add</mat-icon>\r\n              </button>\r\n            </h3>\r\n          </div>\r\n          <div class=\"show\" *ngFor=\"let show of manifestation.shows\">\r\n            <mat-expansion-panel [ngClass]=\"{'panel-header-finished': show.past}\" \r\n              matTooltip=\"{{getToolTip(show)}}\">\r\n              <mat-expansion-panel-header class=\"panel-header\">\r\n                <mat-panel-title [ngClass]=\"{'panel-header-finished': show.past}\">\r\n                  <span class=\"panel-title\">\r\n                    <img class=\"show-icon\" src=\"assets/icons/show/{{show.level}}.svg\">\r\n                    <img class=\"flag-icon\" src=\"assets/icons/flag/{{show.countrycode}}.svg\">\r\n                    {{show.name}}, {{show.place}} / {{intToDateToString(show.date, 'ddd, Do')}}\r\n                  </span>\r\n                </mat-panel-title>\r\n                <mat-panel-description>\r\n                  <mat-icon class=\"reg-open\" *ngIf=\"show.regFlag==='open'\">access_time</mat-icon>\r\n                  <mat-icon class=\"reg-lastminute\" *ngIf=\"show.regFlag==='lastminute'\">av_timer</mat-icon>\r\n                  <mat-icon class=\"reg-closed\" *ngIf=\"show.regFlag==='closed'\">timer_off</mat-icon>\r\n                </mat-panel-description>\r\n              </mat-expansion-panel-header>\r\n              <div>\r\n                <table>\r\n                  <tr>\r\n                    <td>{{\"Place: \" + show.place}}</td>\r\n                    <td>{{\"Opening date: \" + intToDateToString(show.date, 'll')}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{{\"Type: \" + show.type + \" Show\"}}</td>\r\n                    <td>{{\"Registration until: \" + intToDateToString(show.regclosed, 'll')}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>{{\"Organizer: \" + show.organizer}}</td>\r\n                    <td><span *ngIf=\"show.link\">\r\n                        <a href={{show.link}} target=\"_blank\">Entry info link</a>\r\n                      </span></td>\r\n                  </tr>\r\n                </table>\r\n              </div>\r\n              <mat-action-row *ngIf=\"admin>2\">\r\n                <button mat-button>\r\n                  <a routerLink=\"/show\" [queryParams]=\"{show: show | json }\">\r\n                    <mat-icon>edit</mat-icon>\r\n                  </a>\r\n                </button>\r\n              </mat-action-row>\r\n            </mat-expansion-panel>\r\n          </div>\r\n        </div>\r\n      </ng-container>\r\n    </mat-list>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "./src/app/shows/shows.component.scss":
/*!********************************************!*\
  !*** ./src/app/shows/shows.component.scss ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/**\n * Applies styles for users in high contrast mode. Note that this only applies\n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`\n * attribute, however Chrome handles high contrast differently.\n * @param target Which kind of high contrast setting to target. Defaults to `active`, can be\n *    `white-on-black` or `black-on-white`.\n */\n/* Theme for the ripple elements.*/\n/* stylelint-disable material/no-prefixes */\n/* stylelint-enable */\n.left {\n  float: left;\n  width: 47vw;\n  margin-right: 2vw;\n  position: fixed; }\n.right {\n  float: left;\n  padding-left: 49vw;\n  width: 48vw; }\n.admin {\n  padding-bottom: 7px; }\n.lmapa {\n  position: relative;\n  /* height: 50vh; */\n  /* width:500px; */ }\n#lmapa {\n  height: 83vh; }\n.filter {\n  display: inline-block;\n  padding-bottom: 2vh; }\n.filter-type {\n  padding-left: 30px;\n  max-width: 10vw; }\n.filter-level {\n  padding-left: 20px;\n  max-width: 10vw; }\n.filter-country {\n  padding-left: 20px;\n  max-width: 12vw; }\ntd {\n  width: 50%;\n  padding-right: 10px; }\n.mnth-subheader {\n  justify-content: center; }\n.mnf-subheader {\n  margin-left: 10px; }\n.mnf {\n  padding-bottom: 15px; }\n.checkbox-icon {\n  height: 15px;\n  padding-right: 15px; }\n.show {\n  margin-bottom: 2px; }\n.show-icon {\n  height: 15px;\n  padding-right: 15px; }\n.flag-icon {\n  height: 15px;\n  padding-left: 15px;\n  padding-right: 15px; }\n.panel-header {\n  height: 35px !important; }\n.panel-title {\n  width: 90%; }\n.panel-header-finished {\n  background-color: whitesmoke;\n  color: #bdbdbd; }\n.check-uncheck-button {\n  width: 50%; }\n.reg-open {\n  color: #388e3c;\n  padding-top: 1px;\n  padding-right: 15px;\n  padding-left: 15px; }\n.reg-lastminute {\n  color: #f44336;\n  padding-top: 1px;\n  padding-right: 15px;\n  padding-left: 15px; }\n.reg-closed {\n  color: #9e9e9e;\n  padding-top: 1px;\n  padding-right: 15px;\n  padding-left: 15px; }\n.period {\n  display: inline-block; }\n.period-slider {\n  width: 40vw;\n  padding-left: 15px; }\n"

/***/ }),

/***/ "./src/app/shows/shows.component.ts":
/*!******************************************!*\
  !*** ./src/app/shows/shows.component.ts ***!
  \******************************************/
/*! exports provided: ShowsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowsComponent", function() { return ShowsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/auth */ "./src/app/services/auth.ts");
/* harmony import */ var _shows_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shows.provider */ "./src/app/shows/shows.provider.ts");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! leaflet */ "./node_modules/leaflet/dist/leaflet-src.js");
/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var leaflet_markercluster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! leaflet.markercluster */ "./node_modules/leaflet.markercluster/dist/leaflet.markercluster-src.js");
/* harmony import */ var leaflet_markercluster__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(leaflet_markercluster__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var iconBaseUrl = 'assets/icons/';
var intNow = +moment__WEBPACK_IMPORTED_MODULE_5__().format('YYYYMMDD');
var ShowsComponent = /** @class */ (function () {
    function ShowsComponent(showsProvider, authService, router) {
        this.showsProvider = showsProvider;
        this.authService = authService;
        this.router = router;
        this.loadingMonths = 3;
        this.allCountries = [];
        this.countries = [];
        this.allLevels = [];
        this.selectedLevels = [];
        this.allTypes = [{ 'name': 'General', 'all': 0, 'count': 0 }, { 'name': 'Group', 'all': 0, 'count': 0 }, { 'name': 'Single breed', 'all': 0, 'count': 0 }];
        this.selectedTypes = ['General', 'Group', 'Single breed'];
        this.paramStartAt = +moment__WEBPACK_IMPORTED_MODULE_5__('' + intNow, 'YYYYMMDD').add(-1, 'weeks').format('YYYYMMDD');
        this.paramEndAt = +moment__WEBPACK_IMPORTED_MODULE_5__('' + intNow, 'YYYYMMDD').add(this.loadingMonths, 'months').format('YYYYMMDD');
        this.admin = 0;
        this.markerClusters = leaflet__WEBPACK_IMPORTED_MODULE_3__["markerClusterGroup"]({ disableClusteringAtZoom: 18 });
        this.centar = leaflet__WEBPACK_IMPORTED_MODULE_3__["latLng"](45.57185, 19.640113);
        this.zoom = 8;
        this.baselayer = leaflet__WEBPACK_IMPORTED_MODULE_3__["tileLayer"]('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: "Map data &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors,\n      <a href=\"http://creativeclmmons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, Imagery \u00A9 <a href=\"http://mapbox.com\">Mapbox</a>",
            maxZoom: 18,
            id: 'mapbox.streets',
            accessToken: 'pk.eyJ1IjoicnBla28iLCJhIjoiY2prMmh3ZHNmMGxwYTNwbjVrM2YwbHZmNiJ9.xPpVMvB1XQhtetosemv_4w'
        });
    }
    ShowsComponent.prototype.ngOnInit = function () {
        this.createMap();
        this.loadData();
    };
    ShowsComponent.prototype.createMap = function () {
        this.mymap = leaflet__WEBPACK_IMPORTED_MODULE_3__["map"]('lmapa');
        this.mymap.setView(this.centar, this.zoom);
        this.baselayer.addTo(this.mymap);
    };
    ShowsComponent.prototype.loadData = function () {
        var _this = this;
        this.shows = [];
        this.monthshows = [];
        this.showsProvider.showLevels.subscribe(function (showLevels) {
            _this.allLevels = [];
            for (var i = 0; i < showLevels.length; i++) {
                _this.allLevels.push({
                    id: i,
                    name: showLevels[i].name,
                    description: showLevels[i].description,
                    order: showLevels[i].order,
                    count: 0,
                    all: 0
                });
            }
            _this.showsProvider.getShows(_this.paramStartAt, _this.paramEndAt).subscribe(function (allshows) {
                allshows.forEach(function (show) {
                    var extShow = show;
                    if (show.date > intNow) {
                        extShow.past = false;
                    }
                    else {
                        extShow.past = true;
                    }
                    _this.shows.push(extShow);
                });
                // console.log(JSON.stringify(this.shows));
                _this.showsProvider.allCountries.subscribe(function (allcountries) {
                    _this.allCountries = [];
                    allcountries.forEach(function (c) {
                        return _this.allCountries.push({
                            code: c.code,
                            name: c.name,
                            count: 0,
                            all: 0
                        });
                    });
                    _this.selectedLevels = _this.allLevels;
                    _this.checkAllCountries();
                    _this.userDataSubscription();
                    _this.setRegFlag();
                    _this.countAll();
                }, function (err) { return console.log('Countries provider err: ' + err); });
            }, function (err) { return console.log('Shows provider err: ' + err); });
        }, function (err) { return console.log('Show levels provider err: ' + err); });
    };
    ShowsComponent.prototype.loadPeriod = function () {
        var _this = this;
        this.paramEndAt = +moment__WEBPACK_IMPORTED_MODULE_5__('' + intNow, 'YYYYMMDD').add(this.loadingMonths, 'months').format('YYYYMMDD');
        console.log("months: " + this.loadingMonths);
        console.log("start at: " + this.paramStartAt);
        console.log("end at: " + this.paramEndAt);
        this.showsProvider.getShows(this.paramStartAt, this.paramEndAt).subscribe(function (allshows) {
            _this.shows = [];
            allshows.forEach(function (show) {
                var extShow = show;
                if (show.date > intNow) {
                    extShow.past = false;
                }
                else {
                    extShow.past = true;
                }
                _this.shows.push(extShow);
            });
            _this.runFilter();
            _this.setRegFlag();
            _this.allTypes.forEach(function (type) { return type.all = 0; });
            _this.allLevels.forEach(function (lvl) { return lvl.all = 0; });
            _this.allCountries.forEach(function (country) { return country.all = 0; });
            console.log(JSON.stringify(_this.shows));
            _this.countAll();
        }, function (err) { return console.log('Shows provider err: ' + err); });
    };
    ShowsComponent.prototype.loadAll = function () {
        var _this = this;
        if (this.paramStartAt > 0) {
            this.paramStartAt = 0;
            this.paramEndAt = 99999999;
        }
        else {
            this.paramStartAt = +moment__WEBPACK_IMPORTED_MODULE_5__('' + intNow, 'YYYYMMDD').add(-1, 'weeks').format('YYYYMMDD');
            this.paramEndAt = +moment__WEBPACK_IMPORTED_MODULE_5__('' + intNow, 'YYYYMMDD').add(this.loadingMonths, 'months').format('YYYYMMDD');
        }
        this.showsProvider.getShows(this.paramStartAt, this.paramEndAt).subscribe(function (allshows) {
            _this.shows = [];
            allshows.forEach(function (show) {
                var extShow = show;
                if (show.date > intNow) {
                    extShow.past = false;
                }
                else {
                    extShow.past = true;
                }
                _this.shows.push(extShow);
            });
            _this.runFilter();
            _this.setRegFlag();
            _this.allTypes.forEach(function (type) { return type.all = 0; });
            _this.allLevels.forEach(function (lvl) { return lvl.all = 0; });
            _this.allCountries.forEach(function (country) { return country.all = 0; });
            _this.countAll();
        }, function (err) { return console.log('Shows provider err: ' + err); });
    };
    ShowsComponent.prototype.txtLoad = function () {
        if (this.paramStartAt > 0) {
            return "load all";
        }
        else {
            return "load only range";
        }
    };
    ShowsComponent.prototype.userDataSubscription = function () {
        var _this = this;
        this.authService.getUserdata().on('value', function (data) {
            console.log('pokrenut authService getUserData');
            var userdata;
            userdata = data.val();
            if (userdata && userdata.usercountries) {
                _this.countries = userdata.usercountries;
            }
            _this.runFilter();
            if (userdata && userdata.admin) {
                _this.admin = userdata.admin;
            }
            else {
                _this.admin = 0;
            }
        });
    };
    ShowsComponent.prototype.updateCountries = function () {
        this.authService.updateUserCountries(this.countries);
    };
    ShowsComponent.prototype.checkAllCountries = function () {
        var _this = this;
        this.countries = [];
        this.allCountries.forEach(function (c) { return _this.countries.push(c.code); });
    };
    ShowsComponent.prototype.uncheckAllCountries = function () {
        this.countries = [];
    };
    ShowsComponent.prototype.runFilter = function () {
        var _this = this;
        var filterLevel = [];
        this.selectedLevels.forEach(function (st) { return filterLevel.push(st.id); });
        this.processShows(this.shows.filter(function (show) {
            return filterLevel.includes(show.level) &&
                _this.selectedTypes.includes(show.type) &&
                _this.countries.includes(show.countrycode);
        }));
    };
    ShowsComponent.prototype.processShows = function (shows) {
        this.monthshows = [];
        this.markerClusters.clearLayers();
        for (var i = 0; i < shows.length; i++) {
            this.groupByMonth(shows[i]);
            if ((typeof shows[i].lat === 'number') && (typeof shows[i].lon === 'number') && ((shows[i].lat + shows[i].lon) !== 0)) {
                if (!shows[i].past) {
                    this.addMarker(shows[i]);
                }
            }
        }
        this.mymap.addLayer(this.markerClusters);
        if (this.markerClusters.getBounds().isValid()) {
            this.mymap.fitBounds(this.markerClusters.getBounds());
        }
        this.countForSelectedTypes(shows);
        this.countForSelectedLevels(shows);
        this.countForSelectedCountries(shows);
    };
    ShowsComponent.prototype.groupByMonth = function (show) {
        var indexMnth = this.monthshows.findIndex(function (ms) { return ms.month === ('' + show.date).slice(0, 6); });
        if (indexMnth > -1) {
            var indexMnf = this.monthshows[indexMnth].manifestations.findIndex(function (mnf) { return mnf.name === show.manifestation; });
            if (indexMnf > -1) {
                this.monthshows[indexMnth].manifestations[indexMnf].shows.push(show);
            }
            else {
                this.monthshows[indexMnth].manifestations.push({ name: show.manifestation, shows: [show] });
            }
        }
        else {
            this.monthshows.push({ month: ('' + show.date).slice(0, 6), manifestations: [{ name: show.manifestation, shows: [show] }] });
        }
    };
    ShowsComponent.prototype.addMarker = function (show) {
        if (!show.past) {
            var icon = leaflet__WEBPACK_IMPORTED_MODULE_3__["icon"]({ iconUrl: iconBaseUrl + 'show/' + show.level + '.svg' });
            var marker = leaflet__WEBPACK_IMPORTED_MODULE_3__["marker"](new leaflet__WEBPACK_IMPORTED_MODULE_3__["LatLng"](show.lat, show.lon), { title: show.name, icon: icon });
            marker.bindTooltip(this.intToDateToString(show.date, 'MMM YY'), { permanent: true, offset: [0, 0], opacity: 0.4 });
            marker.bindPopup('<div>' + show.name + '</div>'
                + '<div>' + this.intToDateToString(show.date, 'LL') + '</div>'
                + '<div>' + show.place + '</div>');
            this.markerClusters.addLayer(marker);
        }
        else {
        }
    };
    ShowsComponent.prototype.countAll = function () {
        var _this = this;
        var _loop_1 = function (i) {
            // console.log(JSON.stringify(this.shows[i]));
            if (!this_1.shows[i].past) {
                var type = this_1.allTypes.find(function (type) { return type.name === _this.shows[i].type; });
                if (type) {
                    type.all++;
                }
                var sl = this_1.allLevels.find(function (level) { return level.id === _this.shows[i].level; });
                if (sl) {
                    sl.all++;
                }
                var c = this_1.allCountries.find(function (country) { return country.code === _this.shows[i].countrycode; });
                if (c) {
                    c.all++;
                }
            }
        };
        var this_1 = this;
        for (var i = 0; i < this.shows.length; i++) {
            _loop_1(i);
        }
    };
    ShowsComponent.prototype.countForSelectedTypes = function (shows) {
        this.allTypes.forEach(function (c) { return c.count = 0; });
        var _loop_2 = function (i) {
            if (!shows[i].past) {
                var c = this_2.allTypes.find(function (type) { return type.name === shows[i].type; });
                if (c) {
                    c.count++;
                }
            }
        };
        var this_2 = this;
        for (var i = 0; i < shows.length; i++) {
            _loop_2(i);
        }
    };
    ShowsComponent.prototype.countForSelectedLevels = function (shows) {
        this.allLevels.forEach(function (sl) { return sl.count = 0; });
        var _loop_3 = function (i) {
            if (!shows[i].past) {
                var sl = this_3.allLevels.find(function (level) { return level.id === shows[i].level; });
                if (sl) {
                    sl.count++;
                }
            }
        };
        var this_3 = this;
        for (var i = 0; i < shows.length; i++) {
            _loop_3(i);
        }
    };
    ShowsComponent.prototype.countForSelectedCountries = function (shows) {
        this.allCountries.forEach(function (c) { return c.count = 0; });
        var _loop_4 = function (i) {
            if (!shows[i].past) {
                var c = this_4.allCountries.find(function (country) { return country.code === shows[i].countrycode; });
                if (c) {
                    c.count++;
                }
            }
        };
        var this_4 = this;
        for (var i = 0; i < shows.length; i++) {
            _loop_4(i);
        }
    };
    ShowsComponent.prototype.getLevelName = function (id) {
        var level = this.allLevels.find(function (t) { return t.id === id; });
        if (level) {
            return level.description;
        }
        else {
            return '';
        }
    };
    ShowsComponent.prototype.getFilterTypeHeader = function () {
        return 'Types: ' + this.selectedTypes.length + ' of ' + this.allTypes.length;
    };
    ShowsComponent.prototype.getFilterLevelHeader = function () {
        return 'Levels: ' + this.selectedLevels.length + ' of ' + this.allLevels.length;
    };
    ShowsComponent.prototype.getFilterCountryHeader = function () {
        return 'Countries: ' + this.countries.length + ' of ' + this.allCountries.length;
    };
    ShowsComponent.prototype.setRegFlag = function () {
        var _this = this;
        this.shows.forEach(function (show) { return show.regFlag = _this.getRegFlag(show); });
    };
    ShowsComponent.prototype.getRegFlag = function (show) {
        var flag = 'open';
        if (show.past) {
            return 'finished';
        }
        if (!show.date) {
            return '';
        }
        if (!show.regclosed) {
            return '';
        }
        if (show.regclosed >= intNow) {
            if (show.regclosed > intNow + 2) {
                flag = 'open';
            }
            else {
                flag = 'lastminute';
            }
        }
        else {
            flag = 'closed';
        }
        return flag;
    };
    ShowsComponent.prototype.getToolTip = function (show) {
        switch (show.regFlag) {
            case 'open':
                return 'Registration opened until: ' + this.intToDateToString(show.regclosed, 'LL');
            case 'lastminute':
                return 'Registration opened until: ' + this.intToDateToString(show.regclosed, 'LL');
            case 'closed':
                return 'Registration closed on: ' + this.intToDateToString(show.regclosed, 'LL');
            default:
                return '';
        }
    };
    ShowsComponent.prototype.intToDateToString = function (intDate, format) {
        if (moment__WEBPACK_IMPORTED_MODULE_5__('' + intDate, 'YYYYMMDD').isValid()) {
            return moment__WEBPACK_IMPORTED_MODULE_5__('' + intDate, 'YYYYMMDD').format(format);
        }
        else {
            return '';
        }
    };
    ShowsComponent.prototype.addToManifestation = function (manifestation) {
        if (manifestation.shows[0]) {
            var show = {
                'key': '',
                'name': '',
                'organizer': manifestation.shows[0].organizer,
                'place': manifestation.shows[0].place,
                'manifestation': manifestation.name,
                'level': 1,
                'type': 'General',
                'countrycode': manifestation.shows[0].countrycode,
                'link': manifestation.shows[0].link,
                'date': manifestation.shows[0].date,
                'regclosed': manifestation.shows[0].regclosed,
                'lat': manifestation.shows[0].lat,
                'lon': manifestation.shows[0].lon
            };
            this.router.navigate(['show'], { queryParams: { show: JSON.stringify(show) } });
        }
    };
    ShowsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-shows',
            template: __webpack_require__(/*! ./shows.component.html */ "./src/app/shows/shows.component.html"),
            styles: [__webpack_require__(/*! ./shows.component.scss */ "./src/app/shows/shows.component.scss")]
        }),
        __metadata("design:paramtypes", [_shows_provider__WEBPACK_IMPORTED_MODULE_2__["ShowsProvider"],
            _services_auth__WEBPACK_IMPORTED_MODULE_1__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"]])
    ], ShowsComponent);
    return ShowsComponent;
}());



/***/ }),

/***/ "./src/app/shows/shows.provider.ts":
/*!*****************************************!*\
  !*** ./src/app/shows/shows.provider.ts ***!
  \*****************************************/
/*! exports provided: ShowsProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowsProvider", function() { return ShowsProvider; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angularfire2_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angularfire2/database */ "./node_modules/angularfire2/database/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var ShowsProvider = /** @class */ (function () {
    function ShowsProvider(db) {
        this.db = db;
        this.statecode = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.shows = db.list('/shows', function (ref) { return ref.orderByChild('date'); }).valueChanges();
        this.showLevels = db.list('/showlevel').valueChanges();
        this.allCountries = db.list('/countries', function (ref) { return ref.orderByChild('name'); }).valueChanges();
    }
    ShowsProvider.prototype.getShows = function (start, end) {
        return this.db.list('/shows', function (ref) { return ref.orderByChild('date')
            .startAt(start)
            .endAt(end); }).valueChanges();
    };
    ShowsProvider = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
        __metadata("design:paramtypes", [angularfire2_database__WEBPACK_IMPORTED_MODULE_1__["AngularFireDatabase"]])
    ], ShowsProvider);
    return ShowsProvider;
}());



/***/ }),

/***/ "./src/app/validators/date.ts":
/*!************************************!*\
  !*** ./src/app/validators/date.ts ***!
  \************************************/
/*! exports provided: DateValidator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DateValidator", function() { return DateValidator; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

var DateValidator = /** @class */ (function () {
    function DateValidator() {
    }
    DateValidator.isValid = function (control) {
        var d = moment__WEBPACK_IMPORTED_MODULE_0__(control.value, 'YYYYMMDD');
        if (!d.isValid()) {
            return { 'invalid format': true };
        }
        else {
            if (d.year() < 2018 || d.year() > 2040) {
                return { 'invalid year': true };
            }
        }
        return null;
    };
    return DateValidator;
}());



/***/ }),

/***/ "./src/app/validators/lat.ts":
/*!***********************************!*\
  !*** ./src/app/validators/lat.ts ***!
  \***********************************/
/*! exports provided: LatValidator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LatValidator", function() { return LatValidator; });
var LatValidator = /** @class */ (function () {
    function LatValidator() {
    }
    LatValidator.isValid = function (control) {
        if (isNaN(control.value)) {
            return {
                'not a number': true
            };
        }
        if ((control.value < -90) || (control.value > 90)) {
            return {
                'not realistic': true
            };
        }
        return null;
    };
    return LatValidator;
}());



/***/ }),

/***/ "./src/app/validators/lon.ts":
/*!***********************************!*\
  !*** ./src/app/validators/lon.ts ***!
  \***********************************/
/*! exports provided: LonValidator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LonValidator", function() { return LonValidator; });
var LonValidator = /** @class */ (function () {
    function LonValidator() {
    }
    LonValidator.isValid = function (control) {
        if (isNaN(control.value)) {
            return {
                'not a number': true
            };
        }
        if ((control.value < -180) || (control.value > 180)) {
            return {
                'not realistic': true
            };
        }
        return null;
    };
    return LonValidator;
}());



/***/ }),

/***/ "./src/app/validators/matcher.ts":
/*!***************************************!*\
  !*** ./src/app/validators/matcher.ts ***!
  \***************************************/
/*! exports provided: MyErrorStateMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyErrorStateMatcher", function() { return MyErrorStateMatcher; });
/** Error when invalid control is dirty, touched, or submitted. */
var MyErrorStateMatcher = /** @class */ (function () {
    function MyErrorStateMatcher() {
    }
    MyErrorStateMatcher.prototype.isErrorState = function (control, form) {
        var isSubmitted = form && form.submitted;
        return !!(control && control.invalid && (control.dirty || control.touched || isSubmitted));
    };
    return MyErrorStateMatcher;
}());



/***/ }),

/***/ "./src/app/validators/url.ts":
/*!***********************************!*\
  !*** ./src/app/validators/url.ts ***!
  \***********************************/
/*! exports provided: ValidateUrl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidateUrl", function() { return ValidateUrl; });
function ValidateUrl(control) {
    if (!control.value.startsWith('https') && !control.value.startsWith('http')) {
        return { validUrl: true };
    }
    return null;
}


/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
var environment = {
    production: false,
    firebaseConfig: {
        apiKey: 'AIzaSyCf6lecb7d201g5c4b27oVO5Uer5MI7l8c',
        authDomain: 'showdogpro.firebaseapp.com',
        databaseURL: 'https://showdogpro.firebaseio.com',
        projectId: 'showdogpro',
        storageBucket: 'showdogpro.appspot.com',
        messagingSenderId: '424379315073'
    },
    googleMapConfig: {
        apiKey: 'AIzaSyDDtxkjnMS-rXozS7c4q43JcmB0xNffplg'
    }
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\rpeko\Documents\Angular projects\showdog-br\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map